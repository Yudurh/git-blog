<!DOCTYPE html>
<html lang="ko">
  <head>
    <!-- ex51 -->
    <title>select태그에서 선택된 값 가져오기</title>
    <script>
      function value_check() {
        let optionArray = document.getElementById("fruit").options;
        for (let option of optionArray) {
          if (option.selected == true) {
            let value = option.value;
            let name = option.innerHTML;
            let pArray = document.getElementsByTagName("p");
            pArray[0].innerHTML = "선택된 과일이름 : " + name;
            pArray[1].innerHTML = "선택된 과일 value : " + value;
          }
        }
      }
      //연습문제
      //multi select에서 선택된 과일 이름과 값을 표시하시오.
      function value_check_multi() {
        let optionArray = document.getElementById("fruitMulti").options;
        for (let option of optionArray) {
          if (option.selected == true) {
            let value = option.value;
            let name = option.innerHTML;
            let pArray = document.getElementsByTagName("p");
            pArray[2].innerHTML = "선택된 과일이름 : " + name;
            pArray[3].innerHTML = "선택된 과일 value : " + value;
          }
        }
      }
      //onchange이벤트를 이용하여, 선택된 과일 이름과 값을 표시하시오.
      function onchangeSelect(select) {
        // this : 현재 맥락에서 Self 자기자신을 의미
        let value = select.options[select.selectedIndex].value;
        let text = select.options[select.selectedIndex].text;
        let pArray = document.getElementsByTagName("p");
        pArray[4].innerHTML = "선택된 음료이름 : " + text;
        pArray[5].innerHTML = "선택된 음료 value : " + value;
      }
    </script>
  </head>
  <body>
    <p>선택된 과일 이름 : 사과</p>
    <p>선택된 과일 value : apple</p>
    <select name="fruit" id="fruit">
      <option value="apple">사과</option>
      <option value="strawberry">딸기</option>
      <option value="lemon">레몬</option>
      <option value="mango">망고</option>
      <option value="melon">메론</option>
    </select>
    <button onclick="value_check()">현재 선택된 객체 value 가져오기</button>

    <br />
    <br />
    <p>선택된 과일 이름 : 사과</p>
    <p>선택된 과일 value : apple</p>
    <select name="fruitMulti" id="fruitMulti" multiple>
      <option value="apple">사과</option>
      <option value="strawberry">딸기</option>
      <option value="lemon">레몬</option>
      <option value="mango">망고</option>
      <option value="melon">메론</option>
    </select>
    <button onclick="value_check_multi()">
      현재 선택된 객체들 value 가져오기
    </button>

    <br /><br />
    <p>선택된 음료 이름 : 콜라</p>
    <p>선택된 음료 value : cola</p>
    <select name="drink" id="drink" onchange="onchangeSelect(this);">
      <option value="cola">콜라</option>
      <option value="sidar">사이다</option>
      <option value="juice">쥬스</option>
    </select>
  </body>
</html>
